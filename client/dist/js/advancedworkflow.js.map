{"version":3,"sources":["webpack:///webpack/bootstrap 4656a53913efec558ec2","webpack:///external \"jQuery\"","webpack:///external \"i18n\"","webpack:///./client/src/bundles/bundle.js","webpack:///./client/src/bundles/advanced-workflow-cms.js","webpack:///./client/src/bundles/advancedworkflow-management.js","webpack:///./client/src/bundles/WorkflowField.js","webpack:///./client/src/bundles/WorkflowGridField.js"],"names":["jQuery","entwine","$","find","onclick","e","transitionId","attr","buttonName","replace","val","_super","onmouseup","data","name","preventDefault","comments","prompt","instanceId","parents","securityId","alert","post","SecurityID","transition","id","parsedData","parseJSON","success","location","href","link","i18n","_t","Loading","Dialog","onmatch","self","setLoading","setDialog","getDialog","dialog","autoOpen","width","height","modal","dialogClass","on","event","currentTarget","addClass","ajaxSubmit","response","is","empty","replaceWith","html","onunmatch","remove","showDialog","url","dlg","parent","get","done","body","removeClass","loading","toggle","getLoading","sortable","axis","containment","placeholder","handle","tolerance","update","actions","field","closest","ids","each","ind","ele","class","trans","map","chosen","onchange","siblings","toggleClass","sel","prop","confirm","fn","timepicker","length","defaultTime","date","Date","getHours","getMinutes","pickerOpts","useLocalTimezone","defaultValue","controlType","timeFormat","publishDate","publishTime","checkEmbargo","change","linkScheduled","click","tabID","trigger","noPublishDate","undefined","noPublishTime","prev","message","sprintf","after","hide","window","path","makeUrlAbsolute","row","target","nodeName","className","match","onmouseover","css","stopPropagation","reloadCurrentPanel"],"mappings":"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","file":"js/advancedworkflow.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4656a53913efec558ec2","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = 0","module.exports = i18n;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"i18n\"\n// module id = 1\n// module chunks = 0","import 'bundles/advanced-workflow-cms.js';\nimport 'bundles/advancedworkflow-management.js';\nimport 'bundles/WorkflowField.js';\nimport 'bundles/WorkflowGridField.js';\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/bundle.js","import jQuery from 'jquery';\n\njQuery.entwine('ss', ($) => {\n  $('.cms-edit-form')\n    .find('.Actions, .btn-toolbar')\n    .find('#ActionMenus_WorkflowOptions .action')\n    .entwine({\n      onclick(e) {\n        const transitionId = this.attr('data-transitionid');\n        let buttonName = this.attr('name');\n\n        buttonName = buttonName.replace(/-\\d+/, '');\n        this.attr('name', buttonName);\n\n        $('input[name=TransitionID]').val(transitionId);\n\n        this._super(e);\n      },\n    });\n\n  $('.cms-edit-form')\n    .find('.Actions, .btn-toolbar')\n    .find('.action.start-workflow')\n    .entwine({\n      onmouseup(e) {\n        // Populate the hidden form field with the selected workflow definition.\n        $('input[name=TriggeredWorkflowID]').val(this.data('workflow'));\n\n        // Update the element name to exclude the ID, therefore submitting correctly.\n        const name = this.attr('name');\n        this.attr('name', name.replace(/-\\d+/, ''));\n        this._super(e);\n      },\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/advanced-workflow-cms.js","import jQuery from 'jquery';\nimport i18n from 'i18n';\n\njQuery.entwine('ss', ($) => {\n  $('.advancedWorkflowTransition').entwine({\n    onclick(e) {\n      e.preventDefault();\n\n      // get the stuff for it and show a dialog\n      const comments = prompt('Comments');\n      const instanceId = this.parents('ul').attr('data-instance-id');\n      const transitionId = this.attr('data-transition-id');\n      const securityId = $('[name=SecurityID]').val();\n      if (!securityId) {\n        alert('Invalid SecurityID field!');\n        return false;\n      }\n\n      $.post(\n        'AdvancedWorkflowActionController/transition',\n        {\n          SecurityID: securityId,\n          comments,\n          transition: transitionId,\n          id: instanceId,\n        },\n        (data) => {\n          if (data) {\n            const parsedData = $.parseJSON(data);\n\n            if (parsedData.success) {\n              location.href = parsedData.link;\n            } else {\n              alert(i18n._t('Workflow.ProcessError'));\n            }\n          }\n        }\n      );\n\n      return false;\n    },\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/advancedworkflow-management.js","import jQuery from 'jquery';\nimport i18n from 'i18n';\n\njQuery.entwine('workflow', ($) => {\n  $('.workflow-field').entwine({\n    Loading: null,\n    Dialog: null,\n    onmatch() {\n      const self = this;\n\n      this.setLoading(this.find('.workflow-field-loading'));\n      this.setDialog(this.find('.workflow-field-dialog'));\n\n      this.getDialog().data('workflow-field', this).dialog({\n        autoOpen: false,\n        width: 800,\n        height: 600,\n        modal: true,\n        dialogClass: 'workflow-field-editor-dialog',\n      });\n\n      this.getDialog().on('click', 'button', (event) => {\n        $(event.currentTarget).addClass('disabled');\n      });\n\n      this.getDialog().on('submit', 'form', (event) => {\n        $(event.currentTarget).ajaxSubmit((response) => {\n          if ($(response).is('.workflow-field')) {\n            self.getDialog().empty().dialog('close');\n            self.replaceWith(response);\n          } else {\n            self.getDialog().html(response);\n          }\n        });\n\n        return false;\n      });\n    },\n\n    onunmatch() {\n      $('.workflow-field-editor-dialog').remove();\n    },\n\n    showDialog(url) {\n      const dlg = this.getDialog();\n\n      dlg.empty().dialog('open');\n      dlg.parent().addClass('loading');\n\n      $.get(url).done((body) => {\n        dlg.html(body).parent().removeClass('loading');\n      });\n    },\n\n    loading(toggle) {\n      this.getLoading().toggle(typeof toggle === 'undefined' || toggle);\n    },\n  });\n\n  $('.workflow-field .workflow-field-actions').entwine({\n    onmatch() {\n      $('.workflow-field .workflow-field-action-disabled').on('click', () => false);\n      this.sortable({\n        axis: 'y',\n        containment: this,\n        placeholder: 'ui-state-highlight workflow-placeholder',\n        handle: '.workflow-field-action-drag',\n        tolerance: 'pointer',\n        update() {\n          const actions = $(this).find('.workflow-field-action');\n          const field = $(this).closest('.workflow-field');\n          const link = field.data('sort-link');\n          const ids = actions.each(function(ind, ele) { return $(ele).data('id'); });\n          const data = {\n            'id[]': ids,\n            class: 'Symbiote\\\\AdvancedWorkflow\\\\DataObjects\\\\WorkflowAction',\n            SecurityID: field.data('securityid'),\n          };\n\n          field.loading();\n          $.post(link, data).done(() => { field.loading(false); });\n        },\n      });\n    },\n  });\n\n  $('.workflow-field .workflow-field-action-transitions').entwine({\n    onmatch() {\n      this.sortable({\n        axis: 'y',\n        containment: this,\n        handle: '.workflow-field-action-drag',\n        tolerance: 'pointer',\n        update() {\n          const trans = $(this).find('li');\n          const field = $(this).closest('.workflow-field');\n          const link = field.data('sort-link');\n          const ids = trans.map(() => $('li').data('id'));\n          const data = {\n            'id[]': ids.get(),\n            class: 'Symbiote\\\\AdvancedWorkflow\\\\DataObjects\\\\WorkflowTransition',\n            parent: $(this).closest('.workflow-field-action').data('id'),\n            SecurityID: field.data('securityid'),\n          };\n\n          field.loading();\n          $.post(link, data).done(() => { field.loading(false); });\n        },\n      });\n    },\n  });\n\n  $('.workflow-field .workflow-field-create-class').entwine({\n    onmatch() {\n      this.chosen().addClass('has-chnz');\n    },\n\n    onchange() {\n      this.siblings('.workflow-field-do-create').toggleClass('disabled', !this.val());\n    },\n  });\n\n  $('.workflow-field .workflow-field-do-create').entwine({\n    onclick() {\n      const sel = this.siblings('.workflow-field-create-class');\n      const field = this.closest('.workflow-field');\n\n      if (sel.val()) {\n        field.showDialog(sel.val());\n      }\n\n      return false;\n    },\n  });\n\n  $('.workflow-field .workflow-field-open-dialog').entwine({\n    onclick() {\n      this.closest('.workflow-field').showDialog(this.prop('href'));\n      return false;\n    },\n  });\n\n  $('.workflow-field .workflow-field-delete').entwine({\n    onclick() {\n      if (confirm(i18n._t('Workflow.DeleteQuestion'))) {\n        const data = {\n          SecurityID: this.data('securityid'),\n        };\n\n        $.post(this.prop('href'), data).done((body) => {\n          $('.workflow-field').replaceWith(body);\n        });\n      }\n\n      return false;\n    },\n  });\n\n\n  /*\n   * Simple implementation of the jQuery-UI timepicker widget\n   * @see: http://trentrichardson.com/examples/timepicker/ for more config options\n   *\n   * This will need some more work when it comes to implementing i18n functionality. Fortunately,\n   * the library handles these as option-settings quite well.\n   */\n  $('#Root_PublishingSchedule').entwine({\n    onclick() {\n      if (typeof $.fn.timepicker() !== 'object' || !$('input.hasTimePicker').length > 0) {\n        return false;\n      }\n\n      const field = $('input.hasTimePicker');\n      const defaultTime = () => {\n        const date = new Date();\n        return `${date.getHours()}:${date.getMinutes()}`;\n      };\n      const pickerOpts = {\n        useLocalTimezone: true,\n        defaultValue: defaultTime,\n        controlType: 'select',\n        timeFormat: 'HH:mm',\n      };\n\n      field.timepicker(pickerOpts);\n      return false;\n    },\n\n    onmatch() {\n      const self = this;\n      const publishDate = this.find('input[name=\"PublishOnDate[date]\"]');\n      const publishTime = this.find('input[name=\"PublishOnDate[time]\"]');\n      const parent = publishDate.parent().parent();\n\n      if (!$('#Form_EditForm_action_publish').attr('disabled')) {\n        self.checkEmbargo($(publishDate).val(), $(publishTime).val(), parent);\n\n        publishDate.change(() => {\n          self.checkEmbargo($(publishDate).val(), $(publishTime).val(), parent);\n        });\n\n        publishTime.change(() => {\n          self.checkEmbargo($(publishDate).val(), $(publishTime).val(), parent);\n        });\n      }\n\n      this._super();\n    },\n\n    /*\n     * Helper function opens publishing schedule tab when link clicked\n     */\n    linkScheduled(parent) {\n      $('#workflow-schedule').click(() => {\n        const tabID = parent.closest('.ui-tabs-panel.tab').attr('id');\n        $(`#tab-${tabID}`).trigger('click');\n        return false;\n      });\n    },\n\n    /*\n     * Checks whether an embargo is present.\n     * If an embargo is present, display an altered actions panel,\n     * with a message notifying the user\n     */\n    checkEmbargo(publishDate, publishTime, parent) {\n      // Something has changed, remove any existing embargo message\n      $('.Actions #embargo-message').remove();\n\n      /*\n       * Fuzzy checking:\n       * There may not be $(#PublishOnXXX input.date) DOM objects = undefined.\n       * There may be $(#PublishOnXXX input.date) DOM objects = val() method may return zero-length.\n       */\n      const noPublishDate = (publishDate === undefined || publishDate.length === 0);\n      const noPublishTime = (publishTime === undefined || publishTime.length === 0);\n\n      if (noPublishDate && noPublishTime) {\n        // No Embargo, remove customizations\n        $('#Form_EditForm_action_publish').removeClass('embargo');\n        $('#Form_EditForm_action_publish').prev('button').removeClass('ui-corner-right');\n      } else {\n        let message = '';\n\n        $('#Form_EditForm_action_publish').addClass('embargo');\n        $('#Form_EditForm_action_publish').prev('button').addClass('ui-corner-right');\n\n        if (publishDate === '') {\n            // Has time, not date\n          message = i18n.sprintf(\n            i18n._t('Workflow.EMBARGOMESSAGETIME'),\n            publishTime\n          );\n        } else if (publishTime === '') {\n            // has date no time\n          message = i18n.sprintf(\n            i18n._t('Workflow.EMBARGOMESSAGEDATE'),\n            publishDate\n          );\n        } else {\n          // has date and time\n          message = i18n.sprintf(\n            i18n._t('Workflow.EMBARGOMESSAGEDATETIME'),\n            publishDate,\n            publishTime\n          );\n        }\n\n        message = message.replace('<a>', '<a href=\"#\" id=\"workflow-schedule\">');\n\n        // Append message with link\n        $('.Actions #ActionMenus')\n          .after(`<p class=\"edit-info\" id=\"embargo-message\">${message}</p>`);\n\n        // Active link\n        this.linkScheduled(parent);\n      }\n\n      return false;\n    },\n  });\n});\n\njQuery.entwine('ss', ($) => {\n  // Hide the uneccesary \"Show Specification...\" link included on ImportForms by default\n  $('.importSpec').entwine({\n    onmatch() {\n      this.hide();\n    },\n  });\n\n  // Remove the somehat hard-coded 'CSV' string from error message\n  $('#Form_ImportForm_error').entwine({\n    onmatch() {\n      this.html(this.html().replace('CSV', ''));\n    },\n  });\n\n  /**\n   * Prevents actions from causing an ajax reload of the field.\n   *\n   * This is specific to workflow export logic, where we don't want an AJAX request\n   * interfering with browser download headers.\n   */\n  $('.ss-gridfield .action.no-ajax.export-link').entwine({\n    onclick() {\n      window.location.href = $.path.makeUrlAbsolute(this.attr('href'));\n\n      return false;\n    },\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/WorkflowField.js","import jQuery from 'jquery';\n\njQuery.entwine('ss', ($) => {\n  // Disable clicking on each disabled table-row.\n  $('.ss-gridfield .ss-gridfield-item').entwine({\n    onmatch() {\n      const row = this.closest('tr');\n\n      if (this.find('.col-buttons.disabled').length) {\n        row\n          .addClass('disabled')\n          // Disable any actions on the <tr> and edit icons, but do allow\n          // for target-object's hyperlink.\n          .on('click', (e) => {\n            if (e.target.nodeName === 'A' && e.target.className.match(/edit-link/) === null) {\n              return true;\n            }\n            return false;\n          });\n\n        this.find('a.edit-link').attr('title', '');\n      }\n    },\n  });\n\n  // Override GridField's method of providing cursor styles on hover.\n  $('.AdvancedWorkflowAdmin .ss-gridfield-item.disabled').entwine({\n    onmouseover() {\n      this.css('cursor', 'default');\n    },\n  });\n\n  /*\n   * Prevent a precursor POST to gridfield record URLs (all Pending/Submitted GridFields)\n   * when clicking on target-object's hyperlinks, which results in a 404.\n   */\n  $('.ss-gridfield .ss-gridfield-item td.col-Title a').entwine({\n    onclick(e) {\n      e.stopPropagation();\n    },\n  });\n\n  /*\n   * Reload the current (central) CMS pane, to ensure that previously related content\n   * objects, are visually cleared from the UI immediately.\n   */\n  /* eslint-disable max-len */\n  $('.ss-gridfield .col-buttons .action.gridfield-button-delete, .cms-edit-form .Actions button.action.action-delete').entwine({\n    /* eslint-enable max-len */\n    onclick(e) {\n      this._super(e);\n      $('.cms-container').reloadCurrentPanel();\n      e.preventDefault();\n    },\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/bundles/WorkflowGridField.js"],"sourceRoot":""}